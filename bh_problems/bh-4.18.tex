\input{header.tex}
\setcounter{theorem}{17}
\begin{exercise} [BH.4.18]
%\begin{hint}
%\end{hint}
\begin{solution}
    Conditional on the first toss results: with probability a half the first toss lands heads, then the number of tosses (should use \textbf{failures} to be precise) ($X$) needed to get a tail follows Geom(1/2);\\ with probability a half the first toss lands tails, the the number of tosses (should use \textbf{failures} to be precise) ($Y$) needed to get a head follows Geom(1/2). \\~\\
	The expected total number thus is 
	\begin{align*}
		1+ 1/2 \mathbb{E}X + 1/2 \mathbb{E}Y +1  =3
	\end{align*} 
	where the first ``1'' counts for the first toss, and the last ``1'' counts for the final successful toss. \\~\\
	~\\To prove this in a more formal way: notice the total number r.v. (include the final toss) can be rewritten as 
	\begin{align*}
		1 + I_{head} X + I_{tail} Y +1
	\end{align*}
where $I_{head}$ is 1 if the first toss lands head otherwise 0 and $ I_{tail}=1- I_{head}$.	
	
	Next by linearity of expectation we know the answer should be 
	\begin{align*}
		\mathbb{E}\left(1 + I_{head} X + I_{tail} Y+1\right)=2+\mathbb{E}\left( I_{head} X\right)  +\mathbb{E}\left( I_{tail}Y\right)  
	\end{align*}
	Next how to calculate $\mathbb{E}\left( I_{head} X\right)$ and $\mathbb{E}\left( I_{tail}Y\right)$. By symmetry, we only need to look at one among the two terms ($\mathbb{E}\left( I_{head} X\right)$ and $\mathbb{E}\left( I_{tail}Y\right)$). Let's discuss  $\mathbb{E}\left( I_{head} X\right)$. \\~\\
	We need the PMF of  $I_{head} X$ and we work it out using the conditional probability: for $k\geq 0$
	\begin{align*}
		\mathbb{P}\left(I_{head} X =k\right) =& 	\mathbb{P}\left(I_{head} X =k |I_{head}=0 \right)\mathbb{P}\left(I_{head}=0 \right) +	\mathbb{P}\left(I_{head} X=k|I_{head}=1 \right)\mathbb{P}\left(I_{head}=1 \right)\\=& 	\mathbb{P}\left(0 =k |I_{head}=0 \right)\mathbb{P}\left(I_{head}=0 \right) +	\mathbb{P}\left(  X=k|I_{head}=1 \right)\mathbb{P}\left(I_{head}=1 \right)\\=_{\textit{independence}}& 	\mathbb{P}\left(0 =k  \right)\mathbb{P}\left(I_{head}=0 \right) +	\mathbb{P}\left(  X=k \right)\mathbb{P}\left(I_{head}=1 \right)\\= & 	\mathbb{P}\left(0 =k  \right)/2+	\mathbb{P}\left(  X=k \right)/2
	\end{align*}
	where $\mathbb{P}\left(  X=k \right) = (\frac{1}{2})^k\frac{1}{2}, $ and $	\mathbb{P}\left(0 =k  \right) =1$ only when $k=0$ otherwise $	\mathbb{P}\left(0 =k  \right) =0$. To construct the expectation we only need PMF over $k>0$: $\mathbb{P}\left(I_{head} X =k\right)= \mathbb{P}\left(  X=k \right)/2$. With this PMF, we know 
	\begin{align*}
		\mathbb{E}\left( I_{head} X\right) = & \sum_{k=0}^\infty k\mathbb{P}\left(I_{head} X =k\right)\\= & \sum_{k=1}^\infty k\mathbb{P}\left(I_{head} X =k\right)\\= & \sum_{k=1}^\infty k\mathbb{P}\left(X =k\right)/2\\= & \sum_{k=1}^\infty k q^k p/2 \\
		=& q/(2p)
	\end{align*} 
	(Check example 4.3.6 for how the last equation is derived.) which implies the final results: $1+1/2+1/2+1=3$.\\~\\
	\textit{Three is not a surprising result, as the expected number of total tosses (including the successful toss) to get one targeted side is two (use the expectation of FS(1/2)) and you can decide your targeted side (either head or tail)  based on your first toss result.}
\end{solution}
\end{exercise}
\input{trailer.tex}
